<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>All Courses</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Roboto', Arial, sans-serif;
            background: #f6f8fa;
            margin: 0;
            padding: 0;
        }
        .container {
            max-width: 900px;
            margin: 40px auto;
            background: #fff;
            border-radius: 12px;
            box-shadow: 0 4px 24px rgba(0,0,0,0.08);
            padding: 32px 24px 24px 24px;
        }
        .user-card {
            display: flex;
            align-items: center;
            background: #e3f0ff;
            border-radius: 10px;
            padding: 18px 24px;
            margin-bottom: 32px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.04);
        }
        .user-card img {
            border-radius: 50%;
            width: 72px;
            height: 72px;
            margin-right: 24px;
            border: 2px solid #1976d2;
        }
        .user-card h2 {
            margin: 0 0 4px 0;
            font-size: 1.4rem;
            color: #1976d2;
        }
        .user-card p {
            margin: 0;
            color: #333;
        }
        .btn, .google-btn {
            background: #1976d2;
            color: #fff;
            border: none;
            border-radius: 6px;
            padding: 10px 22px;
            font-size: 1rem;
            cursor: pointer;
            margin-top: 10px;
            transition: background 0.2s;
            text-decoration: none;
            display: inline-block;
        }
        .btn:hover, .google-btn:hover {
            background: #1256a3;
        }
        .courses-list {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
            gap: 24px;
        }
        .course-card {
            background: #f4faff;
            border-radius: 10px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.03);
            padding: 20px 18px 18px 18px;
            display: flex;
            flex-direction: column;
            align-items: flex-start;
        }
        .course-card h3 {
            margin: 0 0 8px 0;
            color: #1976d2;
            font-size: 1.15rem;
        }
        .course-card p {
            margin: 0 0 10px 0;
            color: #444;
        }
        .course-card .btn {
            margin-top: auto;
        }
        .btn-165 {
    padding: 10px 25px;
    font-size: 14px;
    font-weight: 700;
    text-align: center;
    vertical-align: middle;
    border-radius: 0.5rem;
    border: 1px solid #bebebe;
    gap: 10px;
    color: #414141;
    background: #fff;
    font-family: Arial, Helvetica, sans-serif;
    cursor: pointer;
    text-decoration: none;
    user-select: none;
    display: inline-flex;
    justify-content: center;
    align-items: center;
    /*** full width block ***/
    /* width: 100%; */
}

.btn-165 svg {
    height: 24px;
}

.btn-165:hover {
    border: solid 1px #464545;
}

.btn-165:active {
    margin-top: 1px;
}

/*** disabled style ***/
.btn-165:disabled {
    pointer-events: none;
    opacity: .65;
    color: #7e7e7e;
    background: #dcdcdc;
    box-shadow: none;
    text-shadow: none;
}
    </style>
</head>
<body>
    <div class="container">
        {% load socialaccount %}
        {% if user.is_authenticated %}
            <div class="user-card">
                <img src="{{ user.socialaccount_set.first.extra_data.picture }}" alt="Avatar">
                <div>
                    <h2>Welcome, {{ user.get_full_name|default:user.username }}</h2>
                    <p>{{ user.email }}</p>
                    <form action="{% url 'account_logout' %}" method="post">
                        {% csrf_token %}
                        <button type="submit" class="btn">Sign out</button>
                    </form>
                </div>
            </div>
        {% else %}
            <a href="{% provider_login_url 'google' %}">
                <button class="btn-165">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 262">
        <path fill="#4285F4" d="M255.878 133.451c0-10.734-.871-18.567-2.756-26.69H130.55v48.448h71.947c-1.45 12.04-9.283 30.172-26.69 42.356l-.244 1.622 38.755 30.023 2.685.268c24.659-22.774 38.875-56.282 38.875-96.027"></path>
        <path fill="#34A853" d="M130.55 261.1c35.248 0 64.839-11.605 86.453-31.622l-41.196-31.913c-11.024 7.688-25.82 13.055-45.257 13.055-34.523 0-63.824-22.773-74.269-54.25l-1.531.13-40.298 31.187-.527 1.465C35.393 231.798 79.49 261.1 130.55 261.1"></path>
        <path fill="#FBBC05" d="M56.281 156.37c-2.756-8.123-4.351-16.827-4.351-25.82 0-8.994 1.595-17.697 4.206-25.82l-.073-1.73L15.26 71.312l-1.335.635C5.077 89.644 0 109.517 0 130.55s5.077 40.905 13.925 58.602l42.356-32.782"></path>
        <path fill="#EB4335" d="M130.55 50.479c24.514 0 41.05 10.589 50.479 19.438l36.844-35.974C195.245 12.91 165.798 0 130.55 0 79.49 0 35.393 29.301 13.925 71.947l42.211 32.783c10.59-31.477 39.891-54.251 74.414-54.251"></path>
    </svg>
    <span>Login with Google</span>
</button>
            </a>
        {% endif %}

        <h1 style="color:#1976d2; margin-bottom: 24px;">Available Courses</h1>
        <div class="courses-list">
            {% for course in courses %}
            <div class="course-card">
                <h3>{{ course.title }}</h3>
                <p>Price: <b>{{ course.price }}</b></p>
                <a href="/course?id={{ course.id }}" class="btn">View Course</a>
                <a href="{% url 'buy-course' course.uuid%}">Buy this course</a>
            </div>
            {% endfor %}
        </div>
    </div>
</body>
</html>